

# 远程桌面是什么

远程桌面是微软内置的一项功能，旨在方便用户远程操控另一台Windows计算机。



# 说明

下文中，我们用主机L代表本地计算机（就是你触手可及的那一台），主机R代表远程计算机（就是你要连接的那一台）。

假设两台计算机的操作系统都是Windows10。

提前注册好微软帐号（如果已经有了就不用了），并在主机L上登录该帐号。

输入命令后，要回车，才会执行这条命令。



# 准备一台服务器

对……你需要准备一台服务器，这台服务器必须有公网IP，并且IP最好是固定的（不然如果IP变了，就……）。

如何准备？阿里云，腾讯云，买个配置低的，应该也不贵……

在这台服务器上也要配置好ssh客户端和ssh服务器（当然如果你是买的阿里云、腾讯云这样的云主机，应该已经配置好了的说...)

下文中，我们用服务器T代表这台服务器。

我们假设的场景是，你要从家里的主机L连接到公司的主机R。



# 主机R准备

打开系统设置，搜索“远程”，进入“远程桌面设置”，勾选“启用远程桌面”。

打开系统设置，进入“应用”，进入“可选功能”，先看看有没有”OpenSSH客户端“和”OpenSSH服务器“，没有的话，点击“添加功能”，找到这俩功能，然后安装。

以管理员身份打开powershell，输入命令 `ssh -V`，如果显示 `OpenSSh_for_Windows...`，说明安装好了。

输入命令`cd ~`，输入命令`start .`，打开了一个文件管理器，从中找到.ssh这个目录，点进去，新建一个文件叫`config`（如果没有的话），文件的内容如下：

```
Host *
  ServerAliveInterval 45
  
```

回到powershell，输入命令`ssh -R ppppp:localhost:3389 root@xxx.xxx.xxx.xxx -p 22`，注意这条命令中有几个变量，ppppp代表0-65535之间的任意一个整数（但是！强烈建议你用10000以上的，例如33893），xxx.xxx.xxx.xxx代表的是服务器T的公网IP地址，`-p 22` 是ssh的端口号，一般不用改。

输入命令后，可能需要输入用户名和密码（如果是买的云主机，一定会告诉你的）

好了，到这里，主机R就已经跟服务器T连接起来了。

然后你可以从公司回家了。



# 使用

回到家后，打开主机L。

win + S 搜索“远程桌面”，有个“远程桌面连接”的应用，单击打开它！

接下来你要输入三个东东：

“计算机”的输入框，输入`localhost:ppppp，对这里的ppppp就是上边的那个ppppp，你别告诉我你已经忘了！

“用户名”的输入框，输入你的微软帐号！

”密码“的输入框，输入你的微软帐号的密码！

剩下的不用我说了吧～

